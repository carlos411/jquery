# 6.3 動畫效果的佇列(Queues)

## 介紹 .delay(seconds)

延遲一段時間，例如以下，先停兩秒：

```javascript
$("div.inner_block").animate({
  left: "100px"
}, 1000).delay(2000).animate({
  left: "0"
}, 1000);
```



範例：`6_3_animate_delay.html`

{% embed url="https://codepen.io/carlos411/pen/oNjgQXX" %}



## 瞭解 .stop() 暫停函式

語法：

```javascript
.stop([clearQueue], [jumpToEnd])
```

* `clearQueue`：是否停掉 Queue 中所有動畫效果，預設是 `false`。然後是停掉當下執行的動畫效果。
* `jumpToEnd`：跳到當下執行的那個動畫效果的結尾，預設是 `false`。

如果有多個動畫效果堆疊起來，那可以透過 .stop() 函式來停止動畫效果，來看看以下差異：

動畫效果的堆疊：

```javascript
$("div.inner_block").fadeTo(5000, 0.2).animate({
  "left": $("div.outer_block").width() - 100
}, 5000, "swing", function(){
  alert("跑到最右邊了");
}).animate({
  "border-radius": "50%"
}, 3000, "linear", function(){
  alert("變圓形完成");
});
```

第一個：停掉目前正在跑的動畫效果：(沒有帶參數，預設值都是 false)

```javascript
$("div.inner_block").stop();
```

第二個：停止所有的動畫效果：(第二個參數預設值是 false)

```javascript
$("div.inner_block").stop(true);
```

第三個：停止所有的動畫效果，並該元素直接跳到目前執行動畫的結束的地方：

```javascript
$("div.inner_block").stop(true, true);
```

第四個：不停止所有的動畫效果，該元素直接跳到目前執行動畫的結束的地方：

```javascript
$("div.inner_block").stop(false, true);
```



範例：`6_3_animate_stop.html`

{% embed url="https://codepen.io/carlos411/pen/ExVaLvX" %}

